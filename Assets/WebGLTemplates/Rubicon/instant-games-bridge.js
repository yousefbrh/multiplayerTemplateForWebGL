/*! For license information please see instant-games-bridge.js.LICENSE.txt */
(()=>{var t={550:(t,e,r)=>{"use strict";r.d(e,{Z:()=>Kn});var n={VK:"vk",YANDEX:"yandex",CRAZY_GAMES:"crazy_games",ABSOLUTE_GAMES:"absolute_games",GAME_DISTRIBUTION:"game_distribution",MOCK:"mock"},o={PLATFORM:"platform",PLAYER:"player",GAME:"game",STORAGE:"storage",ADVERTISEMENT:"advertisement",SOCIAL:"social",DEVICE:"device",LEADERBOARD:"leaderboard"},i={INTERSTITIAL_STATE_CHANGED:"interstitial_state_changed",REWARDED_STATE_CHANGED:"rewarded_state_changed",BANNER_STATE_CHANGED:"banner_state_changed",VISIBILITY_STATE_CHANGED:"visibility_state_changed"},a={VISIBLE:"visible",HIDDEN:"hidden"},u={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed"},s={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed",REWARDED:"rewarded"},c={LOADING:"loading",SHOWN:"shown",HIDDEN:"hidden",FAILED:"failed"},l={LOCAL_STORAGE:"local_storage",PLATFORM_INTERNAL:"platform_internal"},f={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet",TV:"tv"},p={GAME_READY:"game_ready",IN_GAME_LOADING_STARTED:"in_game_loading_started",IN_GAME_LOADING_STOPPED:"in_game_loading_stopped",GAMEPLAY_STARTED:"gameplay_started",GAMEPLAY_STOPPED:"gameplay_stopped",PLAYER_GOT_ACHIEVEMENT:"player_got_achievement"},y="initialize",d="authorize_player",h="add_to_home_screen",m="rate",v="set_leaderboard_score",b="get_leaderboard_score",g="get_leaderboard_entries",S={message:"Before using the SDK you must initialize it"},_={message:"Storage not supported"},w={message:"GameDistribution Game ID is undefined"};function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function O(t){var e=function(t,e){if("object"!=P(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==P(e)?e:String(e)}function k(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function A(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,T(t,e,"set"),r),r}function D(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,T(t,e,"get"))}function T(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var j=new WeakMap,I=new WeakMap,L=new WeakMap;const R=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),k(this,j,{writable:!0,value:void 0}),k(this,I,{writable:!0,value:void 0}),k(this,L,{writable:!0,value:void 0}),A(this,j,new Promise((function(t,r){A(e,I,t),A(e,L,r)})))}var e,r;return e=t,(r=[{key:"promise",get:function(){return D(this,j)}},{key:"resolve",value:function(t){D(this,I).call(this,t)}},{key:"reject",value:function(t){D(this,L).call(this,t)}}])&&E(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();var B=r(258),N=r.n(B);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z(n.key),n)}}function F(t,e,r){return(e=z(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==C(e)?e:String(e)}function W(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var H=new WeakMap,V=function(){function t(e){var r,n,o,u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),F(this,"_isInitialized",!1),F(this,"_platformSdk",null),F(this,"_isPlayerAuthorized",!1),F(this,"_playerId",null),F(this,"_playerName",""),F(this,"_playerPhotos",""),F(this,"_visibilityState",null),F(this,"_localStorage",null),F(this,"_defaultStorageType",l.LOCAL_STORAGE),F(this,"_platformStorageCachedData",null),F(this,"_isBannerSupported",!1),F(this,"_interstitialState",null),F(this,"_rewardedState",null),F(this,"_bannerState",null),o={writable:!0,value:{}},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,n=H),n.set(r,o);try{this._localStorage=window.localStorage}catch(t){}this._visibilityState="visible"===document.visibilityState?a.VISIBLE:a.HIDDEN,document.addEventListener("visibilitychange",(function(){u._visibilityState="visible"===document.visibilityState?a.VISIBLE:a.HIDDEN,u.emit(i.VISIBILITY_STATE_CHANGED,u._visibilityState)})),e&&(this._options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?M(Object(r),!0).forEach((function(e){F(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e)),axios.post("https://api.rubicon.im//api/profile/my-meta",{},{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then((function(t){u._playerName=t.data.username,u._playerPhotos="https://api.rubicon.im/"+t.data.image})).catch((function(t){console.log(t),this._playerName="Player_"+floor(1e3*Math.random())+1,this._playerPhotos="https://api.rubicon.im/uploads/profile/default_profile.png"}))}var e,r;return e=t,(r=[{key:"platformId",get:function(){return n.MOCK}},{key:"platformSdk",get:function(){return this._platformSdk}},{key:"platformLanguage",get:function(){var t=navigator.language;return"string"==typeof t?t.substring(0,2).toLowerCase():"en"}},{key:"platformPayload",get:function(){return new URL(window.location.href).searchParams.get("payload")}},{key:"platformTld",get:function(){return null}},{key:"visibilityState",get:function(){return this._visibilityState}},{key:"isPlayerAuthorizationSupported",get:function(){return!1}},{key:"isPlayerAuthorized",get:function(){return this._isPlayerAuthorized}},{key:"playerId",get:function(){return this._playerId}},{key:"playerName",get:function(){return this._playerName}},{key:"playerPhotos",get:function(){return this._playerPhotos}},{key:"defaultStorageType",get:function(){return this._defaultStorageType}},{key:"isBannerSupported",get:function(){return this._isBannerSupported}},{key:"bannerState",get:function(){return this._bannerState}},{key:"interstitialState",get:function(){return this._interstitialState}},{key:"rewardedState",get:function(){return this._rewardedState}},{key:"isInviteFriendsSupported",get:function(){return!1}},{key:"isJoinCommunitySupported",get:function(){return!1}},{key:"isShareSupported",get:function(){return!1}},{key:"isCreatePostSupported",get:function(){return!1}},{key:"isAddToHomeScreenSupported",get:function(){return!1}},{key:"isAddToFavoritesSupported",get:function(){return!1}},{key:"isRateSupported",get:function(){return!1}},{key:"isExternalLinksAllowed",get:function(){return!1}},{key:"deviceType",get:function(){if(navigator&&navigator.userAgent){var t=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(t))return f.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(t))return f.TABLET}return f.DESKTOP}},{key:"isLeaderboardSupported",get:function(){return!1}},{key:"isLeaderboardNativePopupSupported",get:function(){return!1}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!1}},{key:"isLeaderboardSetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!1}},{key:"initialize",value:function(){return Promise.resolve()}},{key:"sendMessage",value:function(t){return Promise.resolve()}},{key:"authorizePlayer",value:function(t){return Promise.reject()}},{key:"isStorageSupported",value:function(t){return t===l.LOCAL_STORAGE&&null!==this._localStorage}},{key:"isStorageAvailable",value:function(t){return t===l.LOCAL_STORAGE&&null!==this._localStorage}},{key:"getDataFromStorage",value:function(t,e){if(e===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(this._getDataFromLocalStorage(t[n]));return Promise.resolve(r)}var o=this._getDataFromLocalStorage(t);return Promise.resolve(o)}return Promise.reject(_)}return Promise.reject(_)}},{key:"setDataToStorage",value:function(t,e,r){if(r===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var n=0;n<t.length;n++)this._setDataToLocalStorage(t[n],e[n]);return Promise.resolve()}return this._setDataToLocalStorage(t,e),Promise.resolve()}return Promise.reject(_)}return Promise.reject(_)}},{key:"deleteDataFromStorage",value:function(t,e){if(e===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=0;r<t.length;r++)this._deleteDataFromLocalStorage(t[r]);return Promise.resolve()}return this._deleteDataFromLocalStorage(t),Promise.resolve()}return Promise.reject(_)}return Promise.reject(_)}},{key:"showBanner",value:function(t){this._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(c.HIDDEN)}},{key:"showInterstitial",value:function(){this._setInterstitialState(u.FAILED)}},{key:"showRewarded",value:function(){this._setRewardedState(s.FAILED)}},{key:"inviteFriends",value:function(){return Promise.reject()}},{key:"joinCommunity",value:function(){return Promise.reject()}},{key:"share",value:function(){return Promise.reject()}},{key:"createPost",value:function(t){return Promise.reject()}},{key:"addToHomeScreen",value:function(){return Promise.reject()}},{key:"addToFavorites",value:function(){return Promise.reject()}},{key:"rate",value:function(){return Promise.reject()}},{key:"setLeaderboardScore",value:function(t){return Promise.reject()}},{key:"getLeaderboardScore",value:function(t){return Promise.reject()}},{key:"getLeaderboardEntries",value:function(t){return Promise.reject()}},{key:"showLeaderboardNativePopup",value:function(t){return Promise.reject()}},{key:"_getDataFromLocalStorage",value:function(t){var e=this._localStorage.getItem(t);if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}},{key:"_setDataToLocalStorage",value:function(t,e){"object"===C(e)&&(e=JSON.stringify(e)),this._localStorage.setItem(t,e)}},{key:"_deleteDataFromLocalStorage",value:function(t){this._localStorage.removeItem(t)}},{key:"_setInterstitialState",value:function(t){this._interstitialState===t&&t!==u.FAILED||(this._interstitialState=t,this.emit(i.INTERSTITIAL_STATE_CHANGED,this._interstitialState))}},{key:"_setRewardedState",value:function(t){this._rewardedState===t&&t!==s.FAILED||(this._rewardedState=t,this.emit(i.REWARDED_STATE_CHANGED,this._rewardedState))}},{key:"_setBannerState",value:function(t){this._bannerState===t&&t!==c.FAILED||(this._bannerState=t,this.emit(i.BANNER_STATE_CHANGED,this._bannerState))}},{key:"_createPromiseDecorator",value:function(t){var e=new R;return W(this,H)[t]=e,e}},{key:"_getPromiseDecorator",value:function(t){return W(this,H)[t]}},{key:"_resolvePromiseDecorator",value:function(t,e){W(this,H)[t]&&(W(this,H)[t].resolve(e),delete W(this,H)[t])}},{key:"_rejectPromiseDecorator",value:function(t,e){W(this,H)[t]&&(W(this,H)[t].reject(e),delete W(this,H)[t])}}])&&G(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();N().mixin(V.prototype);const K=V;var x=function(t){return new Promise((function(e){var r=document.createElement("script");r.src=t,r.addEventListener("load",e),document.head.appendChild(r)}))},Y=function(){var t=arguments;return arguments.length<=0?Promise.resolve():new Promise((function(e){var r=setInterval((function(){for(var n=window,o=0;o<t.length;o++){var i=n[t[o]];if(!i)return;n=i}e(),clearInterval(r)}),100)}))};function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J(n.key),n)}}function J(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==U(e)?e:String(e)}function Z(t,e,r){return e=tt(e),function(t,e){if(e&&("object"===U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Q(t)}(t,X()?Reflect.construct(e,r||[],tt(t).constructor):e.apply(t,r))}function X(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(X=function(){return!!t})()}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $(){return $="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},$.apply(this,arguments)}function tt(t){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tt(t)}function et(t,e){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},et(t,e)}function rt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nt(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function ot(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,it(t,e,"get"))}function it(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var at=new WeakMap,ut=new WeakSet;function st(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"result",i=this._getPromiseDecorator(t);return i||(i=this._createPromiseDecorator(t),this._platformSdk.send(e,n).then((function(e){e[o]?r._resolvePromiseDecorator(t):r._rejectPromiseDecorator(t)})).catch((function(e){r._rejectPromiseDecorator(t,e)}))),i.promise}const ct=function(t){function e(){var t,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return rt(r=Q(t=Z(this,e,[].concat(i))),n=ut),n.add(r),function(t,e,r){rt(t,e),e.set(t,{writable:!0,value:void 0})}(Q(t),at),t}var r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(e,t),r=e,(o=[{key:"platformId",get:function(){return n.VK}},{key:"platformLanguage",get:function(){var t=new URL(window.location.href);if(t.searchParams.has("language")){var r=t.searchParams.get("language");try{r=parseInt(r)}catch(t){}switch(r){case 0:return"ru";case 1:return"uk";case 2:return"be";case 3:return"en"}}return $(tt(e.prototype),"platformLanguage",this)}},{key:"platformPayload",get:function(){var t=new URL(window.location.href);return t.searchParams.has("hash")?t.searchParams.get("hash"):$(tt(e.prototype),"platformPayload",this)}},{key:"deviceType",get:function(){if(ot(this,at))switch(ot(this,at)){case"html5_ios":case"html5_android":case"html5_mobile":return f.MOBILE;case"web":return f.DESKTOP}return $(tt(e.prototype),"deviceType",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isPlayerAuthorized",get:function(){return!0}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isJoinCommunitySupported",get:function(){return!0}},{key:"isShareSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return"html5_android"===ot(this,at)}},{key:"isAddToFavoritesSupported",get:function(){return!0}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardNativePopupSupported",get:function(){return this.deviceType===f.MOBILE}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e,r,n,o=this._getPromiseDecorator(y);if(!o){o=this._createPromiseDecorator(y);var i=new URL(window.location.href);i.searchParams.has("platform")&&(e=this,r=at,n=i.searchParams.get("platform"),function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(e,it(e,r,"set"),n)),x("https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js").then((function(){Y("vkBridge").then((function(){t._platformSdk=window.vkBridge,t._platformSdk.send("VKWebAppInit").then((function(){t._isBannerSupported=!0,t._platformSdk.send("VKWebAppGetUserInfo").then((function(e){e&&(t._playerId=e.id,t._playerName=e.first_name+" "+e.last_name,e.photo_100&&t._playerPhotos.push(e.photo_100),e.photo_200&&t._playerPhotos.push(e.photo_200),e.photo_max_orig&&t._playerPhotos.push(e.photo_max_orig))})).finally((function(){t._isInitialized=!0,t._defaultStorageType=l.PLATFORM_INTERNAL,t._resolvePromiseDecorator(y)}))}))}))}))}return o.promise}},{key:"authorizePlayer",value:function(t){return Promise.resolve()}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||$(tt(e.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL||$(tt(e.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(e,r){var o=Array.isArray(t)?t:[t];n._platformSdk.send("VKWebAppStorageGet",{keys:o}).then((function(r){if(Array.isArray(t)){for(var n=[],o=function(e){var o,i=r.keys.findIndex((function(r){return r.key===t[e]}));if(i<0)return n.push(null),0;if(""===r.keys[i].value)return n.push(null),0;try{o=JSON.parse(r.keys[i].value)}catch(t){o=r.keys[i].value}n.push(o)},i=0;i<t.length;i++)o(i);e(n)}else if(""!==r.keys[0].value){var a;try{a=JSON.parse(r.keys[0].value)}catch(t){a=r.keys[0].value}e(a)}else e(null)})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?r(t.error_data.error_reason):r()}))})):$(tt(e.prototype),"getDataFromStorage",this).call(this,t,r)}},{key:"setDataToStorage",value:function(t,r,n){var o=this;if(n===l.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var i=[],a=0;a<t.length;a++){var u={key:t[a],value:r[a]};"string"!=typeof r[a]&&(u.value=JSON.stringify(r[a])),i.push(this._platformSdk.send("VKWebAppStorageSet",u))}return Promise.all(i)}var s={key:t,value:r};return"string"!=typeof r&&(s.value=JSON.stringify(r)),new Promise((function(t,e){o._platformSdk.send("VKWebAppStorageSet",s).then((function(){t()})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?e(t.error_data.error_reason):e()}))}))}return $(tt(e.prototype),"setDataToStorage",this).call(this,t,r,n)}},{key:"deleteDataFromStorage",value:function(t,r){if(r===l.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var n=[],o=0;o<t.length;o++)n.push(this.setDataToStorage(t[o],"",r));return Promise.all(n)}return this.setDataToStorage(t,"",r)}return $(tt(e.prototype),"deleteDataFromStorage",this).call(this,t,r)}},{key:"showBanner",value:function(t){var e=this,r="bottom",n="resize",o=!1;t&&("string"==typeof t.position&&(r=t.position),"string"==typeof t.layoutType&&(n=t.layoutType),"boolean"==typeof t.canClose&&(o=t.canClose)),this._platformSdk.send("VKWebAppShowBannerAd",{banner_location:r,layout_type:n,can_close:o}).then((function(t){t.result?e._setBannerState(c.SHOWN):e._setBannerState(c.FAILED)})).catch((function(t){e._setBannerState(c.FAILED)}))}},{key:"hideBanner",value:function(){var t=this;this._platformSdk.send("VKWebAppHideBannerAd").then((function(e){e.result&&t._setBannerState(c.HIDDEN)}))}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then((function(e){e.result&&t._setInterstitialState(u.OPENED)})).finally((function(){t._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then((function(e){t._setInterstitialState(e.result?u.CLOSED:u.FAILED)})).catch((function(){t._setInterstitialState(u.FAILED)}))}))}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(e){e.result&&t._setRewardedState(s.OPENED)})).finally((function(){t._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(e){e.result?(t._setRewardedState(s.REWARDED),t._setRewardedState(s.CLOSED)):t._setRewardedState(s.FAILED)})).catch((function(){t._setRewardedState(s.FAILED)}))}))}},{key:"inviteFriends",value:function(){return nt(this,ut,st).call(this,"invite_friends","VKWebAppShowInviteBox",{},"success")}},{key:"joinCommunity",value:function(t){if(!t||!t.groupId)return Promise.reject();var e=t.groupId;return"string"==typeof e&&(e=parseInt(e),isNaN(e))?Promise.reject():nt(this,ut,st).call(this,"join_community","VKWebAppJoinGroup",{group_id:e}).then((function(){window.open("https://vk.com/public"+e)}))}},{key:"share",value:function(t){var e={};return t&&t.link&&(e.link=t.link),nt(this,ut,st).call(this,"share","VKWebAppShare",e,"type")}},{key:"createPost",value:function(t){var e={};return t&&t.message&&(e.message=t.message),t&&t.attachments&&(e.attachments=t.attachments),nt(this,ut,st).call(this,"create_post","VKWebAppShowWallPostBox",e,"post_id")}},{key:"addToHomeScreen",value:function(){return this.isAddToHomeScreenSupported?nt(this,ut,st).call(this,h,"VKWebAppAddToHomeScreen"):Promise.reject()}},{key:"addToFavorites",value:function(){return nt(this,ut,st).call(this,"add_to_favorites","VKWebAppAddToFavorites")}},{key:"showLeaderboardNativePopup",value:function(t){if(!this.isLeaderboardNativePopupSupported)return Promise.reject();if(!t||!t.userResult)return Promise.reject();var e={user_result:t.userResult};return"boolean"==typeof t.global&&(e.global=t.global?1:0),nt(this,ut,st).call(this,"show_leaderboard_native_popup","VKWebAppShowLeaderBoardBox",e)}}])&&q(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(K);function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=dt(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dt(n.key),n)}}function dt(t){var e=function(t,e){if("object"!=lt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==lt(e)?e:String(e)}function ht(t,e,r){return e=gt(e),function(t,e){if(e&&("object"===lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vt(t)}(t,mt()?Reflect.construct(e,r||[],gt(t).constructor):e.apply(t,r))}function mt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mt=function(){return!!t})()}function vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bt(){return bt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},bt.apply(this,arguments)}function gt(t){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gt(t)}function St(t,e){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},St(t,e)}function _t(t,e,r){wt(t,e),e.set(t,r)}function wt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pt(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,kt(t,e,"set"),r),r}function Et(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function Ot(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,kt(t,e,"get"))}function kt(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var At=new WeakMap,Dt=new WeakMap,Tt=new WeakMap,jt=new WeakSet;function It(t){var e=this;return new Promise((function(r){var n={scopes:!1};t&&"boolean"==typeof t.scopes&&(n.scopes=t.scopes),e._platformSdk.getPlayer(n).then((function(t){e._playerId=t.getUniqueID(),e._isPlayerAuthorized="lite"!==t.getMode(),Pt(e,Dt,t)})).finally((function(){r()}))}))}const Lt=function(t){function e(){var t,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return wt(r=vt(t=ht(this,e,[].concat(i))),n=jt),n.add(r),_t(vt(t),At,{writable:!0,value:!1}),_t(vt(t),Dt,{writable:!0,value:null}),_t(vt(t),Tt,{writable:!0,value:null}),t}var r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&St(t,e)}(e,t),r=e,(o=[{key:"platformId",get:function(){return n.YANDEX}},{key:"platformLanguage",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():bt(gt(e.prototype),"platformLanguage",this)}},{key:"platformTld",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():bt(gt(e.prototype),"platformTld",this)}},{key:"deviceType",get:function(){if(this._platformSdk)switch(this._platformSdk.deviceInfo.type){case f.DESKTOP:return f.DESKTOP;case f.MOBILE:return f.MOBILE;case f.TABLET:return f.TABLET;case f.TV:return f.TV}return bt(gt(e.prototype),"deviceType",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return Ot(this,At)}},{key:"isRateSupported",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!0}},{key:"isLeaderboardSetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y);return e||(e=this._createPromiseDecorator(y),x("https://yandex.ru/games/sdk/v2").then((function(){Y("YaGames","init").then((function(){window.YaGames.init().then((function(e){t._platformSdk=e;var r=Et(t,jt,It).call(t),n=t._platformSdk.getStorage().then((function(e){t._localStorage=e})),o=t._platformSdk.shortcut.canShowPrompt().then((function(e){Pt(t,At,e.canShow)})),i=new Promise((function(t){setTimeout(t,1e3)})),a=Promise.race([o,i]),u=t._platformSdk.getLeaderboards().then((function(e){Pt(t,Tt,e)}));t._isBannerSupported=!0;var s=t._platformSdk.adv.getBannerAdvStatus().then((function(e){e.stickyAdvIsShowing&&t._setBannerState(c.SHOWN)}));Promise.all([r,n,a,u,s]).finally((function(){t._isInitialized=!0,t._defaultStorageType=t._isPlayerAuthorized?l.PLATFORM_INTERNAL:l.LOCAL_STORAGE,t._resolvePromiseDecorator(y)}))}))}))}))),e.promise}},{key:"sendMessage",value:function(t){var r;return t===p.GAME_READY?(null===(r=this._platformSdk.features.LoadingAPI)||void 0===r||r.ready(),Promise.resolve()):bt(gt(e.prototype),"sendMessage",this).call(this,t)}},{key:"authorizePlayer",value:function(t){var e=this,r=this._getPromiseDecorator(d);return r||(r=this._createPromiseDecorator(d),this._isPlayerAuthorized?Et(this,jt,It).call(this,t).then((function(){e._resolvePromiseDecorator(d)})):this._platformSdk.auth.openAuthDialog().then((function(){Et(e,jt,It).call(e,t).then((function(){e._resolvePromiseDecorator(d)}))})).catch((function(t){e._rejectPromiseDecorator(d,t)}))),r.promise}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||bt(gt(e.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL?this._isPlayerAuthorized:bt(gt(e.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(e,r){if(n._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===n._platformStorageCachedData[t[i]]?null:n._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===n._platformStorageCachedData[t]?null:n._platformStorageCachedData[t])}else Ot(n,Dt)?Ot(n,Dt).getData().then((function(r){if(n._platformStorageCachedData=r,Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===n._platformStorageCachedData[t[i]]?null:n._platformStorageCachedData[t[i]];o.push(a)}e(o)}else e(void 0===n._platformStorageCachedData[t]?null:n._platformStorageCachedData[t])})).catch((function(t){r(t)})):r()})):bt(gt(e.prototype),"getDataFromStorage",this).call(this,t,r)}},{key:"setDataToStorage",value:function(t,r,n){var o=this;return n===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(Ot(o,Dt)){var i=null!==o._platformStorageCachedData?pt({},o._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=r[a];else i[t]=r;Ot(o,Dt).setData(i).then((function(){o._platformStorageCachedData=i,e()})).catch((function(t){n(t)}))}else n()})):bt(gt(e.prototype),"setDataToStorage",this).call(this,t,r,n)}},{key:"deleteDataFromStorage",value:function(t,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(e,r){if(Ot(n,Dt)){var o=null!==n._platformStorageCachedData?pt({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];Ot(n,Dt).setData(o).then((function(){n._platformStorageCachedData=o,e()})).catch((function(t){r(t)}))}else r()})):bt(gt(e.prototype),"deleteDataFromStorage",this).call(this,t,r)}},{key:"showBanner",value:function(t){var e=this;this._platformSdk.adv.showBannerAdv().then((function(t){t.stickyAdvIsShowing?e._setBannerState(c.SHOWN):e._setBannerState(c.FAILED)})).catch((function(t){e._setBannerState(c.FAILED)}))}},{key:"hideBanner",value:function(){var t=this;this._platformSdk.adv.hideBannerAdv().then((function(e){e.stickyAdvIsShowing||t._setBannerState(c.HIDDEN)}))}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){t._setInterstitialState(u.OPENED)},onClose:function(e){e?t._setInterstitialState(u.CLOSED):t._setInterstitialState(u.FAILED)}}})}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){t._setRewardedState(s.OPENED)},onRewarded:function(){t._setRewardedState(s.REWARDED)},onClose:function(){t._setRewardedState(s.CLOSED)},onError:function(e){t._setRewardedState(s.FAILED)}}})}},{key:"addToHomeScreen",value:function(){var t=this;if(!this.isAddToHomeScreenSupported)return Promise.reject();var e=this._getPromiseDecorator(h);return e||(e=this._createPromiseDecorator(h),this._platformSdk.shortcut.showPrompt().then((function(e){"accepted"!==e.outcome?t._rejectPromiseDecorator(h):t._resolvePromiseDecorator(h)})).catch((function(e){t._rejectPromiseDecorator(h,e)}))),e.promise}},{key:"rate",value:function(){var t=this,e=this._getPromiseDecorator(m);return e||(e=this._createPromiseDecorator(m),this._platformSdk.feedback.canReview().then((function(e){e.value?t._platformSdk.feedback.requestReview().then((function(e){e.feedbackSent?t._resolvePromiseDecorator(m):t._rejectPromiseDecorator(m)})).catch((function(e){t._rejectPromiseDecorator(m,e)})):t._rejectPromiseDecorator(m,e.reason)})).catch((function(e){t._rejectPromiseDecorator(m,e)}))),e.promise}},{key:"setLeaderboardScore",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!(Ot(this,Tt)&&t&&t.score&&t.leaderboardName))return Promise.reject();var r=this._getPromiseDecorator(v);return r||(r=this._createPromiseDecorator(v),"string"==typeof t.score&&(t.score=parseInt(t.score)),Ot(this,Tt).setLeaderboardScore(t.leaderboardName,t.score).then((function(){e._resolvePromiseDecorator(v)})).catch((function(t){e._rejectPromiseDecorator(v,t)}))),r.promise}},{key:"getLeaderboardScore",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!Ot(this,Tt)||!t||!t.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(b);return r||(r=this._createPromiseDecorator(b),Ot(this,Tt).getLeaderboardPlayerEntry(t.leaderboardName).then((function(t){e._resolvePromiseDecorator(b,t.score)})).catch((function(t){e._rejectPromiseDecorator(b,t)}))),r.promise}},{key:"getLeaderboardEntries",value:function(t){var e=this;if(!Ot(this,Tt)||!t||!t.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(g);if(!r){r=this._createPromiseDecorator(g);var n={includeUser:!1,quantityAround:5,quantityTop:5};"boolean"==typeof t.includeUser&&(n.includeUser=t.includeUser),"string"==typeof t.quantityAround&&(t.quantityAround=parseInt(t.quantityAround)),"number"==typeof t.quantityAround&&(n.quantityAround=t.quantityAround),"string"==typeof t.quantityTop&&(t.quantityTop=parseInt(t.quantityTop)),"number"==typeof t.quantityTop&&(n.quantityTop=t.quantityTop),Ot(this,Tt).getLeaderboardEntries(t.leaderboardName,n).then((function(t){var r=null;t&&t.entries.length>0&&(r=t.entries.map((function(t){var e=[],r=t.player.getAvatarSrc("small"),n=t.player.getAvatarSrc("medium"),o=t.player.getAvatarSrc("large");return r&&e.push(r),n&&e.push(n),o&&e.push(o),{id:t.player.uniqueID,score:t.score,rank:t.rank,name:t.player.publicName,photos:e}}))),e._resolvePromiseDecorator(g,r)})).catch((function(t){e._rejectPromiseDecorator(g,t)}))}return r.promise}}])&&yt(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(K);function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function Bt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nt(n.key),n)}}function Nt(t){var e=function(t,e){if("object"!=Rt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Rt(e)?e:String(e)}const Ct=function(){function t(e){var r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=void 0,(n=Nt(n="_platformBridge"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._platformBridge=e}var e,r;return e=t,(r=[{key:"initialize",value:function(){return Promise.resolve()}}])&&Bt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Mt(t){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(t)}function Gt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ft(n.key),n)}}function Ft(t){var e=function(t,e){if("object"!=Mt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Mt(e)?e:String(e)}function zt(t,e,r){return e=Ht(e),function(t,e){if(e&&("object"===Mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Wt()?Reflect.construct(e,r||[],Ht(t).constructor):e.apply(t,r))}function Wt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Wt=function(){return!!t})()}function Ht(t){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ht(t)}function Vt(t,e){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vt(t,e)}const Kt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),zt(this,e,arguments)}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vt(t,e)}(e,t),r=e,(n=[{key:"id",get:function(){return this._platformBridge.platformId}},{key:"sdk",get:function(){return this._platformBridge.platformSdk}},{key:"language",get:function(){return this._platformBridge.platformLanguage}},{key:"payload",get:function(){return this._platformBridge.platformPayload}},{key:"tld",get:function(){return this._platformBridge.platformTld}},{key:"sendMessage",value:function(t){return this._platformBridge.sendMessage(t)}}])&&Gt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ct);function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function Yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ut(n.key),n)}}function Ut(t){var e=function(t,e){if("object"!=xt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xt(e)?e:String(e)}function qt(t,e,r){return e=Zt(e),function(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Jt()?Reflect.construct(e,r||[],Zt(t).constructor):e.apply(t,r))}function Jt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Jt=function(){return!!t})()}function Zt(t){return Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zt(t)}function Xt(t,e){return Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xt(t,e)}const Qt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),qt(this,e,arguments)}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xt(t,e)}(e,t),r=e,(n=[{key:"isAuthorizationSupported",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:"isAuthorized",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:"id",get:function(){return this._platformBridge.playerId}},{key:"name",get:function(){return this._platformBridge.playerName}},{key:"photos",get:function(){return this._platformBridge.playerPhotos}},{key:"authorize",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.authorize(e)}return this._platformBridge.authorizePlayer(t)}}])&&Yt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ct);function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function te(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ee(n.key),n)}}function ee(t){var e=function(t,e){if("object"!=$t(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$t(e)?e:String(e)}function re(t,e,r){return e=oe(e),function(t,e){if(e&&("object"===$t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ne()?Reflect.construct(e,r||[],oe(t).constructor):e.apply(t,r))}function ne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ne=function(){return!!t})()}function oe(t){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oe(t)}function ie(t,e){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ie(t,e)}var ae=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=re(this,e,[t]))._platformBridge.on(i.VISIBILITY_STATE_CHANGED,(function(t){return r.emit(i.VISIBILITY_STATE_CHANGED,t)})),r}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ie(t,e)}(e,t),r=e,(n=[{key:"visibilityState",get:function(){return this._platformBridge.visibilityState}}])&&te(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ct);N().mixin(ae.prototype);const ue=ae;function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,le(n.key),n)}}function le(t){var e=function(t,e){if("object"!=se(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==se(e)?e:String(e)}function fe(t,e,r){return e=ye(e),function(t,e){if(e&&("object"===se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return de(t)}(t,pe()?Reflect.construct(e,r||[],ye(t).constructor):e.apply(t,r))}function pe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pe=function(){return!!t})()}function ye(t){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ye(t)}function de(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function he(t,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},he(t,e)}function me(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var ve=new WeakMap;const be=function(t){function e(){var t,r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=de(t=fe(this,e,[].concat(a))),o={writable:!0,value:[]},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r,n=ve),n.set(r,o),t}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}(e,t),r=e,(n=[{key:"defaultType",get:function(){return this._platformBridge.defaultStorageType}},{key:"isSupported",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageSupported(t)}},{key:"isAvailable",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageAvailable(t)}},{key:"get",value:function(t,e){var r=this;if(e){var n=e[this._platformBridge.platformId];if(n)return this.get(t,n)}var o=e;o||(o=this.defaultType);var i=me(this,ve)[o];return i&&void 0!==i[t]?Promise.resolve(i[t]):this._platformBridge.getDataFromStorage(t,o).then((function(e){return r._addToCache(o,t,e),e}))}},{key:"set",value:function(t,e,r){var n=this;if(r){var o=r[this._platformBridge.platformId];if(o)return this.set(t,e,o)}var i=r;return i||(i=this.defaultType),this._platformBridge.setDataToStorage(t,e,i).then((function(){return n._addToCache(i,t,e)}))}},{key:"delete",value:function(t,e){var r=this;if(e){var n=e[this._platformBridge.platformId];if(n)return this.delete(t,n)}var o=e;return o||(o=this.defaultType),this._platformBridge.deleteDataFromStorage(t,o).then((function(){return r._deleteFromCache(o,t)}))}},{key:"_addToCache",value:function(t,e,r){if(me(this,ve)[t]||(me(this,ve)[t]=[]),Array.isArray(e))for(var n=0;n<e.length;n++)me(this,ve)[t][e[n]]=r[e[n]];else me(this,ve)[t][e]=r}},{key:"_deleteFromCache",value:function(t,e){if(me(this,ve)[t])if(Array.isArray(e))for(var r=0;r<e.length;r++)delete me(this,ve)[t][e[r]];else delete me(this,ve)[t][e]}}])&&ce(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ct);function ge(t){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge(t)}function Se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_e(n.key),n)}}function _e(t){var e=function(t,e){if("object"!=ge(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ge(e)?e:String(e)}function we(t,e){Ee(t,e),e.add(t)}function Pe(t,e,r){Ee(t,e),e.set(t,r)}function Ee(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Oe(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function ke(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,De(t,e,"set"),r),r}function Ae(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,De(t,e,"get"))}function De(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Te="created",je="completed",Ie=new WeakMap,Le=new WeakMap,Re=new WeakMap,Be=new WeakMap,Ne=new WeakSet,Ce=new WeakSet,Me=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),we(this,Ce),we(this,Ne),Pe(this,Ie,{writable:!0,value:0}),Pe(this,Le,{writable:!0,value:0}),Pe(this,Re,{writable:!0,value:Te}),Pe(this,Be,{writable:!0,value:0}),ke(this,Ie,e)}var e,r;return e=t,(r=[{key:"state",get:function(){return Ae(this,Re)}},{key:"start",value:function(){var t=this;switch(Ae(this,Re)){case Te:case je:ke(this,Le,Ae(this,Ie)),Oe(this,Ne,Ge).call(this,"started"),ke(this,Be,setInterval((function(){ke(t,Le,Ae(t,Le)-1),t.emit("time_left_changed",Ae(t,Le)),Ae(t,Le)<=0&&(Oe(t,Ce,Fe).call(t),Oe(t,Ne,Ge).call(t,je))}),1e3))}}},{key:"stop",value:function(){Oe(this,Ce,Fe).call(this),Oe(this,Ne,Ge).call(this,"stopped")}}])&&Se(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ge(t){ke(this,Re,t),this.emit("state_changed",Ae(this,Re))}function Fe(){ke(this,Le,0),clearInterval(Ae(this,Be))}N().mixin(Me.prototype);const ze=Me;function We(t){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(t)}function He(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ve(n.key),n)}}function Ve(t){var e=function(t,e){if("object"!=We(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=We(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==We(e)?e:String(e)}function Ke(t,e,r){return e=Ye(e),function(t,e){if(e&&("object"===We(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ue(t)}(t,xe()?Reflect.construct(e,r||[],Ye(t).constructor):e.apply(t,r))}function xe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xe=function(){return!!t})()}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ye(t)}function Ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qe(t,e){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qe(t,e)}function Je(t,e){Xe(t,e),e.add(t)}function Ze(t,e,r){Xe(t,e),e.set(t,r)}function Xe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qe(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,er(t,e,"set"),r),r}function $e(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function tr(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,er(t,e,"get"))}function er(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var rr=new WeakMap,nr=new WeakMap,or=new WeakSet,ir=new WeakSet,ar=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Je(Ue(r=Ke(this,e,[t])),ir),Je(Ue(r),or),Ze(Ue(r),rr,{writable:!0,value:void 0}),Ze(Ue(r),nr,{writable:!0,value:60}),r._platformBridge.on(i.INTERSTITIAL_STATE_CHANGED,(function(t){t===u.CLOSED&&tr(Ue(r),nr)>0&&$e(Ue(r),or,ur).call(Ue(r)),r.emit(i.INTERSTITIAL_STATE_CHANGED,t)})),r._platformBridge.on(i.REWARDED_STATE_CHANGED,(function(t){return r.emit(i.REWARDED_STATE_CHANGED,t)})),r._platformBridge.on(i.BANNER_STATE_CHANGED,(function(t){return r.emit(i.BANNER_STATE_CHANGED,t)})),r}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qe(t,e)}(e,t),r=e,(n=[{key:"isBannerSupported",get:function(){return this._platformBridge.isBannerSupported}},{key:"bannerState",get:function(){return this._platformBridge.bannerState}},{key:"interstitialState",get:function(){return this._platformBridge.interstitialState}},{key:"rewardedState",get:function(){return this._platformBridge.rewardedState}},{key:"minimumDelayBetweenInterstitial",get:function(){return tr(this,nr)}},{key:"setMinimumDelayBetweenInterstitial",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(void 0!==e)return this.setMinimumDelayBetweenInterstitial(e)}var r=We(t),n=tr(this,nr);switch(r){case"number":n=t;break;case"string":if(n=parseInt(t),isNaN(n))return}Qe(this,nr,n),tr(this,rr)&&(tr(this,rr).stop(),$e(this,or,ur).call(this))}},{key:"showBanner",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showBanner(e)}if(this.bannerState)switch(this.bannerState){case c.LOADING:case c.SHOWN:return}this._platformBridge._setBannerState(c.LOADING),this.isBannerSupported?this._platformBridge.showBanner(t):this._platformBridge._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){if(this.bannerState)switch(this.bannerState){case c.LOADING:case c.HIDDEN:return}this.isBannerSupported&&this._platformBridge.hideBanner()}},{key:"showInterstitial",value:function(t){if(!$e(this,ir,sr).call(this)){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showInterstitial(e)}var r=!1;t&&"boolean"==typeof t.ignoreDelay&&(r=t.ignoreDelay),this._platformBridge._setInterstitialState(u.LOADING),!tr(this,rr)||tr(this,rr).state===je||r?this._platformBridge.showInterstitial():this._platformBridge._setInterstitialState(u.FAILED)}}},{key:"showRewarded",value:function(){$e(this,ir,sr).call(this)||(this._platformBridge._setRewardedState(s.LOADING),this._platformBridge.showRewarded())}}])&&He(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ct);function ur(){Qe(this,rr,new ze(tr(this,nr))),tr(this,rr).start()}function sr(){if(this.interstitialState)switch(this.interstitialState){case u.LOADING:case u.OPENED:return!0}if(this.rewardedState)switch(this.rewardedState){case s.LOADING:case s.OPENED:case s.REWARDED:return!0}return!1}N().mixin(ar.prototype);const cr=ar;function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pr(n.key),n)}}function pr(t){var e=function(t,e){if("object"!=lr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=lr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==lr(e)?e:String(e)}function yr(t,e,r){return e=hr(e),function(t,e){if(e&&("object"===lr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,dr()?Reflect.construct(e,r||[],hr(t).constructor):e.apply(t,r))}function dr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(dr=function(){return!!t})()}function hr(t){return hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hr(t)}function mr(t,e){return mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mr(t,e)}const vr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),yr(this,e,arguments)}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mr(t,e)}(e,t),r=e,(n=[{key:"isInviteFriendsSupported",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:"isJoinCommunitySupported",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:"isShareSupported",get:function(){return this._platformBridge.isShareSupported}},{key:"isCreatePostSupported",get:function(){return this._platformBridge.isCreatePostSupported}},{key:"isAddToHomeScreenSupported",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:"isAddToFavoritesSupported",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:"isRateSupported",get:function(){return this._platformBridge.isRateSupported}},{key:"isExternalLinksAllowed",get:function(){return this._platformBridge.isExternalLinksAllowed}},{key:"inviteFriends",value:function(){return this._platformBridge.inviteFriends()}},{key:"joinCommunity",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.joinCommunity(e)}return this._platformBridge.joinCommunity(t)}},{key:"share",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.share(e)}return this._platformBridge.share(t)}},{key:"createPost",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.createPost(e)}return this._platformBridge.createPost(t)}},{key:"addToHomeScreen",value:function(){return this._platformBridge.addToHomeScreen()}},{key:"addToFavorites",value:function(){return this._platformBridge.addToFavorites()}},{key:"rate",value:function(){return this._platformBridge.rate()}}])&&fr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ct);function br(t){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(t)}function gr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sr(n.key),n)}}function Sr(t){var e=function(t,e){if("object"!=br(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==br(e)?e:String(e)}function _r(t,e,r){return e=Pr(e),function(t,e){if(e&&("object"===br(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wr()?Reflect.construct(e,r||[],Pr(t).constructor):e.apply(t,r))}function wr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wr=function(){return!!t})()}function Pr(t){return Pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pr(t)}function Er(t,e){return Er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Er(t,e)}const Or=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_r(this,e,arguments)}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Er(t,e)}(e,t),r=e,(n=[{key:"type",get:function(){return this._platformBridge.deviceType}}])&&gr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ct);function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}function Ar(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dr(n.key),n)}}function Dr(t){var e=function(t,e){if("object"!=kr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==kr(e)?e:String(e)}function Tr(t,e,r){return e=Ir(e),function(t,e){if(e&&("object"===kr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jr()?Reflect.construct(e,r||[],Ir(t).constructor):e.apply(t,r))}function jr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jr=function(){return!!t})()}function Ir(t){return Ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ir(t)}function Lr(t,e){return Lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lr(t,e)}const Rr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Tr(this,e,arguments)}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lr(t,e)}(e,t),r=e,(n=[{key:"isSupported",get:function(){return this._platformBridge.isLeaderboardSupported}},{key:"isNativePopupSupported",get:function(){return this._platformBridge.isLeaderboardNativePopupSupported}},{key:"isMultipleBoardsSupported",get:function(){return this._platformBridge.isLeaderboardMultipleBoardsSupported}},{key:"isSetScoreSupported",get:function(){return this._platformBridge.isLeaderboardSetScoreSupported}},{key:"isGetScoreSupported",get:function(){return this._platformBridge.isLeaderboardGetScoreSupported}},{key:"isGetEntriesSupported",get:function(){return this._platformBridge.isLeaderboardGetEntriesSupported}},{key:"setScore",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.setScore(e)}return this._platformBridge.setLeaderboardScore(t)}},{key:"getScore",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getScore(e)}return this._platformBridge.getLeaderboardScore(t)}},{key:"getEntries",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getEntries(e)}return this._platformBridge.getLeaderboardEntries(t)}},{key:"showNativePopup",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.showNativePopup(e)}return this._platformBridge.showLeaderboardNativePopup(t)}}])&&Ar(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ct);function Br(t){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(t)}function Nr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cr(n.key),n)}}function Cr(t){var e=function(t,e){if("object"!=Br(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Br(e)?e:String(e)}function Mr(t,e,r){return e=Wr(e),function(t,e){if(e&&("object"===Br(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fr(t)}(t,Gr()?Reflect.construct(e,r||[],Wr(t).constructor):e.apply(t,r))}function Gr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Gr=function(){return!!t})()}function Fr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zr(){return zr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},zr.apply(this,arguments)}function Wr(t){return Wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wr(t)}function Hr(t,e){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hr(t,e)}function Vr(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function Kr(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Yr(t,e,"set"),r),r}function xr(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Yr(t,e,"get"))}function Yr(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Ur=new WeakMap,qr=new WeakMap;const Jr=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Vr(Fr(t=Mr(this,e,[].concat(n))),Ur,{writable:!0,value:null}),Vr(Fr(t),qr,{writable:!0,value:!1}),t}var r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hr(t,e)}(e,t),r=e,(o=[{key:"platformId",get:function(){return n.CRAZY_GAMES}},{key:"platformLanguage",get:function(){return xr(this,Ur)?xr(this,Ur).countryCode.toLowerCase():zr(Wr(e.prototype),"platformLanguage",this)}},{key:"deviceType",get:function(){if(xr(this,Ur))switch(xr(this,Ur).device.type.toLowerCase()){case f.DESKTOP:return f.DESKTOP;case f.MOBILE:return f.MOBILE;case f.TABLET:return f.TABLET}return zr(Wr(e.prototype),"deviceType",this)}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y);return e||(e=this._createPromiseDecorator(y),x("https://sdk.crazygames.com/crazygames-sdk-v1.js").then((function(){Y("CrazyGames","CrazySDK","getInstance").then((function(){t._platformSdk=window.CrazyGames.CrazySDK.getInstance(),t._platformSdk.addEventListener("initialized",(function(e){Kr(t,Ur,e.userInfo),t._isInitialized=!0,t._resolvePromiseDecorator(y)})),t._platformSdk.addEventListener("adStarted",(function(){xr(t,qr)?t._setRewardedState(s.OPENED):t._setInterstitialState(u.OPENED)})),t._platformSdk.addEventListener("adFinished",(function(){xr(t,qr)?(t._setRewardedState(s.REWARDED),t._setRewardedState(s.CLOSED)):t._setInterstitialState(u.CLOSED)})),t._platformSdk.addEventListener("adError",(function(){xr(t,qr)?t._setRewardedState(s.FAILED):t._setInterstitialState(u.FAILED)})),t._platformSdk.addEventListener("bannerRendered",(function(e){t._setBannerState(c.SHOWN)})),t._platformSdk.addEventListener("bannerError",(function(e){t._setBannerState(c.FAILED)})),t._defaultStorageType=l.LOCAL_STORAGE,t._isBannerSupported=!0,t._platformSdk.init()}))}))),e.promise}},{key:"sendMessage",value:function(t){switch(t){case p.IN_GAME_LOADING_STARTED:return this._platformSdk.sdkGameLoadingStart(),Promise.resolve();case p.IN_GAME_LOADING_STOPPED:return this._platformSdk.sdkGameLoadingStop(),Promise.resolve();case p.GAMEPLAY_STARTED:return this._platformSdk.gameplayStart(),Promise.resolve();case p.GAMEPLAY_STOPPED:return this._platformSdk.gameplayStop(),Promise.resolve();case p.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.happytime(),Promise.resolve()}return zr(Wr(e.prototype),"sendMessage",this).call(this,t)}},{key:"showBanner",value:function(t){t&&t.containerId&&"string"==typeof t.containerId?this._platformSdk.requestResponsiveBanner([t.containerId]):this._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){this._platformSdk.clearAllBanners(),this._setBannerState(c.HIDDEN)}},{key:"showInterstitial",value:function(){Kr(this,qr,!1),this._platformSdk.requestAd("midgame")}},{key:"showRewarded",value:function(){Kr(this,qr,!0),this._platformSdk.requestAd("rewarded")}}])&&Nr(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(K);function Zr(t){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zr(t)}function Xr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xr(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=tn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tn(n.key),n)}}function tn(t){var e=function(t,e){if("object"!=Zr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Zr(e)?e:String(e)}function en(t,e,r){return e=an(e),function(t,e){if(e&&("object"===Zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nn(t)}(t,rn()?Reflect.construct(e,r||[],an(t).constructor):e.apply(t,r))}function rn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rn=function(){return!!t})()}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(){return on="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=an(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},on.apply(this,arguments)}function an(t){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},an(t)}function un(t,e){return un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},un(t,e)}var sn=new WeakSet;function cn(){var t=this;return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized="false"===this._platformSdk.options.guest,new Promise((function(e){t._platformSdk.getUsers([t._playerId],(function(r,n){if(r&&1===r.length){var o=r[0];t._playerName=o.full_name,""!==o.avatar&&(t._playerPhotos=[o.avatar])}e()}))}))}const ln=function(t){function e(){var t,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=nn(t=en(this,e,[].concat(i))),n=sn),n.add(r),t}var r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&un(t,e)}(e,t),r=e,(o=[{key:"platformId",get:function(){return n.ABSOLUTE_GAMES}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y);return e||(e=this._createPromiseDecorator(y),x("https://unpkg.com/@agru/sdk/dist/umd/index.min.js").then((function(){t._platformSdk=new AgRuSdk,t._platformSdk.on(AgRuSdkMethods.ShowCampaign,(function(e,r){switch(e.type){case"default":null===r?e.status?t._setInterstitialState(u.OPENED):t._setInterstitialState(u.CLOSED):t._setInterstitialState(u.FAILED);break;case"rewarded":null===r?e.status?t._setRewardedState(s.OPENED):(e.reward&&t._setRewardedState(s.REWARDED),t._setRewardedState(s.CLOSED)):t._setRewardedState(s.FAILED)}}));var e=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}(t,sn,cn).call(t);Promise.all([e]).finally((function(){t._isInitialized=!0,t._defaultStorageType=t._isPlayerAuthorized?l.PLATFORM_INTERNAL:l.LOCAL_STORAGE,t._resolvePromiseDecorator(y)}))}))),e.promise}},{key:"authorizePlayer",value:function(t){var e=this;if(this._isPlayerAuthorized)return Promise.resolve();var r=this._getPromiseDecorator(d);return r||(r=this._createPromiseDecorator(d),this._platformSdk.authorize((function(t,r){null===r?e._resolvePromiseDecorator(d):e._rejectPromiseDecorator(d,r)}))),r.promise}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||on(an(e.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL?this._isPlayerAuthorized:on(an(e.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(e,r){if(n._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===n._platformStorageCachedData[t[i]]?null:n._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===n._platformStorageCachedData[t]?null:n._platformStorageCachedData[t])}else n._isPlayerAuthorized?n._platformSdk.getSaveData((function(o,i){if(null===i){if(null===o&&(o={}),n._platformStorageCachedData=o,Array.isArray(t)){for(var a=[],u=0;u<t.length;u++){var s=void 0===n._platformStorageCachedData[t[u]]?null:n._platformStorageCachedData[t[u]];a.push(s)}return void e(a)}e(void 0===n._platformStorageCachedData[t]?null:n._platformStorageCachedData[t])}else r(i)})):r()})):on(an(e.prototype),"getDataFromStorage",this).call(this,t,r)}},{key:"setDataToStorage",value:function(t,r,n){var o=this;return n===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(o._isPlayerAuthorized){var i=null!==o._platformStorageCachedData?Qr({},o._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=r[a];else i[t]=r;o._platformSdk.setSaveData(i,(function(t,r){null===r&&(o._platformStorageCachedData=i,e()),n(r)}))}else n()})):on(an(e.prototype),"setDataToStorage",this).call(this,t,r,n)}},{key:"deleteDataFromStorage",value:function(t,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(e,r){if(n._isPlayerAuthorized){var o=null!==n._platformStorageCachedData?Qr({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];n._platformSdk.setSaveData(o,(function(t,i){null===i&&(n._platformStorageCachedData=o,e()),r(i)}))}else r()})):on(an(e.prototype),"deleteDataFromStorage",this).call(this,t,r)}},{key:"showInterstitial",value:function(){this._platformSdk.showCampaign("default")}},{key:"showRewarded",value:function(){this._platformSdk.showCampaign("rewarded")}}])&&$r(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(K);function fn(t){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(t)}function pn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yn(n.key),n)}}function yn(t){var e=function(t,e){if("object"!=fn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fn(e)?e:String(e)}function dn(t,e,r){return e=mn(e),function(t,e){if(e&&("object"===fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vn(t)}(t,hn()?Reflect.construct(e,r||[],mn(t).constructor):e.apply(t,r))}function hn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(hn=function(){return!!t})()}function mn(t){return mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mn(t)}function vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bn(t,e){return bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bn(t,e)}function gn(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,_n(t,e,"set"),r),r}function Sn(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,_n(t,e,"get"))}function _n(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var wn=new WeakMap;const Pn=function(t){function e(){var t,r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=vn(t=dn(this,e,[].concat(a))),o={writable:!0,value:!1},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r,n=wn),n.set(r,o),t}var r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bn(t,e)}(e,t),r=e,(o=[{key:"platformId",get:function(){return n.GAME_DISTRIBUTION}},{key:"initialize",value:function(){if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y);if(!t)if(t=this._createPromiseDecorator(y),this._options&&"string"==typeof this._options.gameId){var e=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent:function(t){switch(t.name){case"SDK_READY":e._platformSdk=window.gdsdk,e._platformSdk.preloadAd("rewarded"),e._isInitialized=!0,e._resolvePromiseDecorator(y);break;case"SDK_GAME_START":Sn(e,wn)?e._setRewardedState(s.CLOSED):e._setInterstitialState(u.CLOSED);break;case"SDK_GAME_PAUSE":Sn(e,wn)?e._setRewardedState(s.OPENED):e._setInterstitialState(u.OPENED);break;case"SDK_GDPR_TRACKING":case"SDK_GDPR_TARGETING":break;case"SDK_REWARDED_WATCH_COMPLETE":e._setRewardedState(s.REWARDED)}}},this._defaultStorageType=l.LOCAL_STORAGE,this._isBannerSupported=!0,x("https://html5.api.gamedistribution.com/main.min.js")}else this._rejectPromiseDecorator(y,w);return t.promise}},{key:"showBanner",value:function(t){var e=this;t&&t.containerId&&"string"==typeof t.containerId?this._platformSdk.showAd("display",{containerId:t.containerId}).then((function(){e._setBannerState(c.SHOWN)})).catch((function(t){e._setBannerState(c.FAILED)})):this._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(c.HIDDEN)}},{key:"showInterstitial",value:function(){var t=this;gn(this,wn,!1),this._platformSdk?this._platformSdk.showAd().catch((function(e){t._setInterstitialState(u.FAILED)})):this._setInterstitialState(u.FAILED)}},{key:"showRewarded",value:function(){var t=this;gn(this,wn,!0),this._platformSdk?this._platformSdk.showAd("rewarded").catch((function(e){t._setRewardedState(s.FAILED)})):this._setRewardedState(s.FAILED)}}])&&pn(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(K);function En(t){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(t)}function On(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,An(n.key),n)}}function An(t){var e=function(t,e){if("object"!=En(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=En(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==En(e)?e:String(e)}function Dn(t,e){jn(t,e),e.add(t)}function Tn(t,e,r){jn(t,e),e.set(t,r)}function jn(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function In(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Bn(t,e,"set"),r),r}function Ln(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function Rn(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Bn(t,e,"get"))}function Bn(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}t=r.hmd(t);var Nn=new WeakMap,Cn=new WeakMap,Mn=new WeakMap,Gn=new WeakMap,Fn=new WeakMap,zn=new WeakSet,Wn=new WeakSet;function Hn(){var t=n.MOCK;if(this._options&&this._options.forciblySetPlatformId)switch(this._options.forciblySetPlatformId){case n.VK:t=n.VK;break;case n.YANDEX:t=n.YANDEX;break;case n.CRAZY_GAMES:t=n.CRAZY_GAMES;break;case n.ABSOLUTE_GAMES:t=n.ABSOLUTE_GAMES;break;case n.GAME_DISTRIBUTION:t=n.GAME_DISTRIBUTION}else{var e=new URL(window.location.href),r=["y","a","n","d","e","x",".","n","e","t"].join("");e.hostname.includes(r)||e.hash.includes("yandex")?t=n.YANDEX:e.hostname.includes("crazygames.")||e.hostname.includes("1001juegos.com")?t=n.CRAZY_GAMES:e.hostname.includes("gamedistribution.com")?t=n.GAME_DISTRIBUTION:e.searchParams.has("api_id")&&e.searchParams.has("viewer_id")&&e.searchParams.has("auth_key")?t=n.VK:e.searchParams.has("app_id")&&e.searchParams.has("player_id")&&e.searchParams.has("game_sid")&&e.searchParams.has("auth_key")&&(t=n.ABSOLUTE_GAMES)}switch(t){case n.VK:In(this,Mn,new ct(this._options&&this._options.platforms&&this._options.platforms[n.VK]));break;case n.YANDEX:In(this,Mn,new Lt(this._options&&this._options.platforms&&this._options.platforms[n.YANDEX]));break;case n.CRAZY_GAMES:In(this,Mn,new Jr(this._options&&this._options.platforms&&this._options.platforms[n.CRAZY_GAMES]));break;case n.ABSOLUTE_GAMES:In(this,Mn,new ln(this._options&&this._options.platforms&&this._options.platforms[n.ABSOLUTE_GAMES]));break;case n.GAME_DISTRIBUTION:In(this,Mn,new Pn(this._options&&this._options.platforms&&this._options.platforms[n.GAME_DISTRIBUTION]));break;case n.MOCK:In(this,Mn,new K)}}function Vn(t){return Rn(this,Nn)||console.error(S),Rn(this,Fn)[t]?Rn(this,Fn)[t]:Rn(this,Gn)[t]}const Kn=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Dn(this,Wn),Dn(this,zn),Tn(this,Nn,{writable:!0,value:!1}),Tn(this,Cn,{writable:!0,value:null}),Tn(this,Mn,{writable:!0,value:null}),Tn(this,Gn,{writable:!0,value:{}}),Tn(this,Fn,{writable:!0,value:{}})}var r,y;return r=e,y=[{key:"version",get:function(){return"1.9.2"}},{key:"isInitialized",get:function(){return Rn(this,Nn)}},{key:"platform",get:function(){return Ln(this,Wn,Vn).call(this,o.PLATFORM)}},{key:"player",get:function(){return Ln(this,Wn,Vn).call(this,o.PLAYER)}},{key:"game",get:function(){return Ln(this,Wn,Vn).call(this,o.GAME)}},{key:"storage",get:function(){return Ln(this,Wn,Vn).call(this,o.STORAGE)}},{key:"advertisement",get:function(){return Ln(this,Wn,Vn).call(this,o.ADVERTISEMENT)}},{key:"social",get:function(){return Ln(this,Wn,Vn).call(this,o.SOCIAL)}},{key:"device",get:function(){return Ln(this,Wn,Vn).call(this,o.DEVICE)}},{key:"leaderboard",get:function(){return Ln(this,Wn,Vn).call(this,o.LEADERBOARD)}},{key:"PLATFORM_ID",get:function(){return n}},{key:"PLATFORM_MESSAGE",get:function(){return p}},{key:"MODULE_NAME",get:function(){return o}},{key:"EVENT_NAME",get:function(){return i}},{key:"INTERSTITIAL_STATE",get:function(){return u}},{key:"REWARDED_STATE",get:function(){return s}},{key:"BANNER_STATE",get:function(){return c}},{key:"STORAGE_TYPE",get:function(){return l}},{key:"VISIBILITY_STATE",get:function(){return a}},{key:"DEVICE_TYPE",get:function(){return f}},{key:"initialize",value:function(t){var e=this;return Rn(this,Nn)?Promise.resolve():(Rn(this,Cn)||(In(this,Cn,new R),this._options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?On(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=An(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t),Ln(this,zn,Hn).call(this),Rn(this,Mn).initialize().then((function(){Rn(e,Gn)[o.PLATFORM]=new Kt(Rn(e,Mn)),Rn(e,Gn)[o.PLAYER]=new Qt(Rn(e,Mn)),Rn(e,Gn)[o.GAME]=new ue(Rn(e,Mn)),Rn(e,Gn)[o.STORAGE]=new be(Rn(e,Mn)),Rn(e,Gn)[o.ADVERTISEMENT]=new cr(Rn(e,Mn)),Rn(e,Gn)[o.SOCIAL]=new vr(Rn(e,Mn)),Rn(e,Gn)[o.DEVICE]=new Or(Rn(e,Mn)),Rn(e,Gn)[o.LEADERBOARD]=new Rr(Rn(e,Mn)),In(e,Nn,!0),console.log("%c InstantGamesBridge v."+e.version+" initialized. ","background: #01A5DA; color: white"),Rn(e,Cn)&&(Rn(e,Cn).resolve(),In(e,Cn,null))}))),Rn(this,Cn).promise)}},{key:"overrideModule",value:function(e,r){"object"===En(r)&&(Rn(this,Fn)[e]=r,"function"==typeof r.initialize&&r.initialize(t))}}],y&&kn(r.prototype,y),Object.defineProperty(r,"prototype",{writable:!1}),e}()},258:t=>{!function(e){t.exports=e;var r="listeners",n={on:function(t,e){return a(this,t).push(e),this},once:function(t,e){var r=this;return n.originalListener=e,a(r,t).push(n),r;function n(){i.call(r,t,n),e.apply(this,arguments)}},off:i,emit:function(t,e){var r=this,n=a(r,t,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach((function(t){t.call(r)}));else if(2===o)n.forEach((function(t){t.call(r,e)}));else{var i=Array.prototype.slice.call(arguments,1);n.forEach((function(t){t.apply(r,i)}))}return!!n.length}};function o(t){for(var e in n)t[e]=n[e];return t}function i(t,e){var n,o=this;if(arguments.length){if(e){if(n=a(o,t,!0)){if(!(n=n.filter((function(t){return t!==e&&t.originalListener!==e}))).length)return i.call(o,t);o[r][t]=n}}else if((n=o[r])&&(delete n[t],!Object.keys(n).length))return i.call(o)}else delete o[r];return o}function a(t,e,n){if(!n||t[r]){var o=t[r]||(t[r]={});return o[e]||(o[e]=[])}}o(e.prototype),e.mixin=o}((function t(){if(!(this instanceof t))return new t}))}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(550);window.instantGamesBridge=window.bridge=new t.Z})()})();